
###############################################################################
#                      deliminitors: " ,;:@\'\"\r"                            #
###############################################################################

###############################################################################
#                                detector setup                               #
###############################################################################
# length unit in mm; angle unit in radian
gem0 = {
    layer id = 0; # this one is the key
    position = 0, 0, 0;   # (x_coord, y_coord, z_coord): global coordinate
    dimension = 102.4, 102.4, 0.1;   # x_size, y_size, z_size: (full length)
    offset = 0, 0, 0;     # x_offset, y_offset, z_offset
    tilt angle = 0, 0, 0; # x_axis_tilt_angle, y_axis_tilt_angle, z_axis_tilt_angle
}

gem1 = {
    layer id = 1;
    position = 0.0, 0.0, 105.0;
    dimension = 102.4, 102.4, 0.1;
    offset = 0, 0, 0;
    tilt angle = 0, 0, 0;
}

gem2 = {
    layer id = 2;
    position = 0.0, 0.0, 205;
    dimension = 102.4, 102.4, 0.1;
    offset = 0, 0, 0;
    tilt angle = 0, 0, 0;
}

gem3 = {
    layer id = 3;
    position = 0.0, 0.0, 305;
    dimension = 102.4, 102.4, 0.1;
    offset = 0, 0, 0;
    tilt angle = 0, 0, 0;
}

###############################################################################
#                             grid size setup                                 #
###############################################################################
# grid setup
#grid width = 17.2, 17.2 # units in mm (x bin width, y bin width)
#grid shift = 0.4 # units in mm

#grid width = 10, 10 # units in mm (x bin width, y bin width)
#grid shift = 3.8 # units in mm

#grid width = 40, 40 # units in mm (x bin width, y bin width)
#grid shift = 8.8 # units in mm

grid width = 52, 52 # units in mm (x bin width, y bin width)
grid shift = 0.8 # units in mm

#grid width = 102.4, 102.4
#grid shift = 0

###############################################################################
#                        cuts applied to all strips                           #
###############################################################################

# time bin with max ADC
max time bin = 0, 1, 2, 3, 4, 5

# strip mean time (ADC-weighted average of time samples) range [ns]:
strip mean time range = 50, 100 # set a large range to disable it, eg: -9999 to 9999

# reject strips peaking in first time bin
reject max first bin = true

# reject strips peaking in last time bin
reject max last bin = true


###############################################################################
#                cuts applied to cluster seed strips                          #
#            seed strip means the max strip in a cluster                      #
###############################################################################

# minimum ADC requirement for strip max time sample
seed strip min peak ADC = 0 # 120 #80 #120 # 200

# minimum ADC sum for strips
seed strip min sum ADC = 0 # 200 #160 #200 #300


###############################################################################
#  cluster seed strip and constituent strip timing correlation cut            #
###############################################################################

# strip mean time agreement between seed strip and constituent strips (+/- 21ns)
strip mean time agreement = 21

# time sample correlation coefficient between seedn strip and constituent strips
# cut value in percentage: 70%
time sample correlation coefficient = 0.7


###############################################################################
#                        cuts applied to all clusters                         #
###############################################################################

# minimum cluster size
min cluster size = 1


###############################################################################
#                    cuts applied when matching clusters                      #
###############################################################################

# adc assymmetry in percentage: 50%
2d cluster adc assymetry = 0.5


###############################################################################
#                           track finding cuts                                # 
###############################################################################

# minimum number of hits required for tracking
minimum hits on track = 3

# reduced chi2 cut for tracks (chi2 over ndf) with larger number of layers
# if larger number of layers didn't find any tracks within this chi2 range
# then the program will go to the lowest number of layers (minimum hits on track)
# and output whatever the best track chi2 it finds
track max chi2 = 1e9

###############################################################################
#                                optics cut                                   #
###############################################################################
# track slope
track x-z slope range = -9999, 9999 # units in radian
track y-z slope range = -9999, 9999 # use a large value to disable it
#track x-z slope range = -0.015, 0.015 # units in radian
#track y-z slope range = -0.015, 0.015 # This value is from Ye Tian's simulation

# target position -- not used for now
target position = 0., 0., -9999. # units in mm

# track projected target position should within this range around target position
# not used for now
prjected target range = 9999, 9999, 9999

# calorimeter energy and position cut
# None

###############################################################################
#                       DAQ cuts -- not used for now                          #
###############################################################################
# grid setup
default apv zero suppression threshold = 5
apv zero suppression threshold = 3, 1, 0, 4 # first 3 is apv address, 4th one is threshold
